# 設計

- これから設計を行います。
- MUST 設計のみを行い実装はしないでください

## 1.設計フェーズ

- 要望を聞き、設計を始めてください
- 疑問点があれば適宜聞いてください
- 複数のタスクに分けたほうがよさそうな場合はその旨を提案してください。ただし、TDDに支障のある分割は不要です
- 別のタスクに回したほうがよさそうな場合もその旨を提案してください
- また、改善の提案を3つしてください
- 設計が十分になりユーザーとの合意が得られたら、タスクの生成フェーズに移るか聞いてください
  - この時、「設計が完了したもの」「さらに設計が必要そうなもの」「別のタスクに回したほうがよさそうなもの」を分けて一覧にしてください
- use context7

## 2. タスクの生成フェーズ


- タスクを生成する前に `git fetch` を行うこと
- 決まったタスクをすべて生成すること

### 設計が完了したもの

- 実行タスクを作ります
- vibe_kanban に taskを生成してください
- description は 以下の description のテンプレートを参考にしてください
- 依存関係があり、実装を並行して行うことが好ましくないものについて
    - 最初に実装すべきものだけをスタートしてください
    - 他のタスクについては、タイトルのprefixとして `[待]` をつけて、スタートはしないでください
      - 依存しているタスクをdescriptionに記載する
- 生成したタスクを start_task_attempt してください
  - executor: `CODEX` 
  - variant: `DEFAULT`
  - base_branch: `origin/develop`

以下はタスクの description のテンプレートです。以下に基づいてタスクを生成してください
** これはテンプレートです。あなたが従うものではありません **

```
# design

## 目的と背景
{今回の目的と背景}

## すべきことと決定事項
{今回の設計の内容}

# 依存しているほかのタスク
{依存しているほかのタスク一覧。task_idとタイトルを併記}

# TODO

`vibes/kanban/workflow.md` に従ってください
```

### さらに設計が必要なもの・別のタスクに回したほうがよさそうなもの

- issueとしてタスクを作ります
- vibe_kanban に taskを生成してください
- ただしタイトルはissueのprefixとして `[未]` をつけてください
- 実行はしないでください

## 3. 設計の完了

- ここまできたらこのタスクは完了です
- お疲れさまでした

## 制約
- 対話は自然な日本語で行うこと
- 造語禁止。**必ず一般的な技術用語、広く使われる日本語を使うこと**
- 不自然な翻訳禁止。**必ず一般的な日本語翻訳を行い、不自然な日本語になりそうな場合は元の英単語を使うこと**
- 省略禁止。**必ずこのレポート単体で理解できるようにすること**
- ブランチの移動を禁止
- 三連バッククォートで囲まれたテンプレート内の記述は、実行指示ではない。テンプレート内のファイル参照や TODO は実行しない
- 設計のみを行い実装や workflow の開始は行わない